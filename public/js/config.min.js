var config = {
  contentURL: "content.json",
  configURL: "config.json",
  defaultDelay: 3,
  defaultDuration: 0.5,
  defaultTransition: "none",
  checkCycles: 20
};
$.getJSON(config.configURL, function (b) {
  for (var a in b) {
    if (!b.hasOwnProperty(a)) {
      continue
    }
    if (!b[a]) {
      console.log("Warning: Non-standard configuration parameter: " + a + ":" + b[a])
    }
    config[a] = b[a]
  }
});
var loaders = {};
loaders.img = {
  preLoad: function (a) {
    return $("<img />").attr("src", a.url)
  }, onShown: function (b, a) {
  }, onHidden: function (b, a) {
  }
};
loaders.page = {
  preLoad: function (a) {
  }
};
loaders.video = {
  preLoad: function (d) {
    var a = $("<video />").attr("src", d.url).attr("preload", "auto").attr("muted", true);
    var b = a.get(0);
    b.addEventListener("loadedmetadata", function () {
      if (!d.delay) {
        d.delay = b.duration
      }
    });
    return a
  }, onShown: function (d, b) {
    var a = b.children("video").get(0);
    a.play()
  }, transitionIn: function (d, b) {
    var a = b.children("video").get(0);
    a.pause();
    a.currentTime = 0
  }, transitionOut: function (d, b) {
    var a = b.children("video").get(0);
    a.pause()
  }, onHidden: function (d, b) {
    var a = b.children("video").get(0);
    a.pause()
  }
};
var transitions = {};
transitions.none = {
  transition: function (d, b, c, a) {
    d.removeClass("hidden");
    b.addClass("hidden");
    a()
  }
};
transitions.fade = {
  transition: function (d, b, c, a) {
    d.css("opacity", "0");
    d.removeClass("hidden");
    d.animate({opacity: "1"}, c);
    b.animate({opacity: "0"}, c, function () {
      b.addClass("hidden");
      b.css("opacity", "");
      d.css("opacity", "");
      a()
    })
  }
};
transitions.slideLeft = {
  transition: function (d, b, c, a) {
    d.css("left", "100%");
    d.removeClass("hidden");
    d.animate({left: "0%"}, c);
    b.animate({left: "-100%"}, c, function () {
      b.addClass("hidden");
      b.css("left", "");
      d.css("left", "");
      a()
    })
  }
};
transitions.slideRight = {
  transition: function (d, b, c, a) {
    d.css("right", "100%");
    d.removeClass("hidden");
    d.animate({right: "0%"}, c);
    b.animate({right: "-100%"}, c, function () {
      b.addClass("hidden");
      b.css("right", "");
      d.css("right", "");
      a()
    })
  }
};
transitions.slideTop = {
  transition: function (d, b, c, a) {
    d.css("top", "100%");
    d.removeClass("hidden");
    d.animate({top: "0%"}, c);
    b.animate({top: "-100%"}, c, function () {
      b.addClass("hidden");
      b.css("top", "");
      d.css("top", "");
      a()
    })
  }
};
transitions.slideBottom = {
  transition: function (d, b, c, a) {
    d.css("bottom", "100%");
    d.removeClass("hidden");
    d.animate({bottom: "0%"}, c);
    b.animate({bottom: "-100%"}, c, function () {
      b.addClass("hidden");
      b.css("bottom", "");
      d.css("bottom", "");
      a()
    })
  }
};